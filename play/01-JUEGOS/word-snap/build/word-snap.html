<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Snap - Juego de Palabras Adictivo</title>
    <meta name="description" content="Encuentra palabras ocultas en la sopa de letras. 100 niveles Ãºnicos. Juego adictivo con skins, logros y modo maratÃ³n.">
    <link rel="stylesheet" href="/styles-v2.css">
</head>
<body>
    <div class="game-container">
        <div class="theme-pattern" id="themePattern">âœ¨</div>
        
        <div class="game-content">
            <div class="header">
                <a href="/index.html" class="back-link">â† Volver al Portal</a>
                <h1>ğŸ”¤ Word Snap</h1>
                <div class="level-badge" id="levelBadge">
                    Nivel 1 - PaÃ­ses del mundo
                </div>
                <div class="level-info" id="levelInfo">
                    Nivel 1 de 100 â€¢ Cultura general
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 1%;"></div>
                </div>
            </div>

            <!-- Display de Monedas y XP -->
            <div style="text-align: center; margin-bottom: 15px;">
                <div class="coins-display">
                    <span>ğŸ’°</span>
                    <span id="coinsDisplay">0</span>
                </div>
                <div class="player-level-display" style="margin-top: 10px;">
                    Nivel <span id="playerLevelDisplay">1</span> â­
                </div>
                <div class="xp-bar-container">
                    <div class="xp-bar" id="xpBar" style="width: 0%;"></div>
                    <div class="xp-text" id="xpText">0/100</div>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn active" onclick="game.setDifficulty('normal', event)">
                    ğŸ˜Š Normal
                </button>
                <button class="control-btn" onclick="game.setDifficulty('easy', event)">
                    ğŸ˜Œ FÃ¡cil
                </button>
                <button class="control-btn" onclick="game.setDifficulty('hard', event)">
                    ğŸ˜ˆ DifÃ­cil
                </button>
                <button class="control-btn" onclick="game.setDifficulty('expert', event)">
                    ğŸ”¥ Experto
                </button>
                <button class="control-btn" onclick="game.setDifficulty('master', event)">
                    ğŸ‘‘ Maestro
                </button>
            </div>

            <div class="controls" style="margin-top: 10px;">
                <button class="control-btn" onclick="game.toggleDarkMode()">
                    ğŸŒ™ Oscuro
                </button>
                <button class="control-btn" id="levelSelectBtn">
                    ğŸ“š Niveles
                </button>
                <button class="control-btn" id="soundBtn">
                    ğŸ”Š Sonido
                </button>
                <button class="control-btn" onclick="window.location.href='marathon.html'">
                    ğŸƒ MaratÃ³n
                </button>
                <button class="control-btn" onclick="window.location.href='trivia-challenge.html'">
                    ğŸ§  Trivia
                </button>
                <button class="control-btn" onclick="dailyRewards.showDailyRewardModal()">
                    ğŸ Diario
                </button>
                <button class="control-btn" onclick="skinsSystem.showShop()">
                    ğŸ›’ Tienda
                </button>
                <button class="control-btn" onclick="achievementsManager.showAchievementsModal()">
                    ğŸ† Logros
                </button>
                <button class="control-btn" onclick="weeklyEvent.showWeeklyModal()">
                    ğŸŒ Semanal
                </button>
            </div>

            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">â±ï¸ Tiempo</span>
                    <span class="stat-value" id="timer">120</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">ğŸ“ Palabras</span>
                    <span class="stat-value" id="wordsFound">0/5</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">â­ Puntos</span>
                    <span class="stat-value" id="score">0</span>
                </div>
            </div>

            <div class="current-word-display" id="currentWord">...</div>

            <div class="grid-container">
                <div class="letter-grid" id="letterGrid"></div>
            </div>

            <div class="words-list" id="wordsList"></div>

            <button class="start-btn" id="startBtn" onclick="game.toggleStart()">
                â–¶ï¸ Jugar Nivel 1
            </button>
        </div>
    </div>

    <!-- Modal de Resultados -->
    <div class="modal" id="gameOverModal">
        <div class="modal-content">
            <h2 id="modalTitle">ğŸ‰ Â¡Nivel Completado!</h2>
            <div class="level-complete-badge" id="completeBadge">
                Â¡Excelente trabajo!
            </div>
            <div class="final-score" id="finalScore">0</div>
            <p id="resultMessage"></p>
            <div class="metrics">
                <div class="metric-item">
                    <div class="metric-value" id="wordsFoundMetric">0</div>
                    <div class="metric-label">Palabras</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" id="timeUsedMetric">0s</div>
                    <div class="metric-label">Tiempo</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" id="streakMetric">0</div>
                    <div class="metric-label">Racha</div>
                </div>
            </div>
            <div class="metrics" style="margin-top: 10px;">
                <div class="metric-item">
                    <div class="metric-value" id="daysPlayedMetric">0</div>
                    <div class="metric-label">DÃ­as Jugados</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" id="maxScoreMetric">0</div>
                    <div class="metric-label">Mejor Score</div>
                </div>
                <div class="metric-item">
                    <div class="metric-value" id="maxLevelMetric">0</div>
                    <div class="metric-label">Nivel MÃ¡ximo</div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" onclick="game.shareScore()">
                    ğŸ“¤ Compartir
                </button>
                <button class="modal-btn primary" id="nextLevelBtn" onclick="game.nextLevel()">
                    â¡ï¸ Siguiente Nivel
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Selector de Niveles -->
    <div class="modal" id="levelSelectorModal">
        <div class="modal-content" style="max-width: 600px;">
            <h2>ğŸ“š Seleccionar Nivel</h2>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <div style="font-size: 0.9em; color: #666;">
                    <span id="levelsCompleted">0</span> / <span id="totalLevels">100</span> completados
                </div>
                <button class="modal-btn secondary" id="closeLevelSelect" style="padding: 8px 15px;">
                    âœ• Cerrar
                </button>
            </div>
            <div class="levels-grid" id="levelSelectorGrid">
                <!-- Los niveles se generan dinÃ¡micamente -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/word-snap-levels.js?v=2"></script>
    <script src="/audio-manager.js"></script>
    <script src="/coins-manager.js"></script>
    <script src="/daily-rewards.js"></script>
    <script src="/skins-system.js"></script>
    <script src="/ad-manager.js"></script>
    <script src="/xp-manager.js"></script>
    <script src="/achievements.js"></script>
    <script src="/weekly-event.js"></script>
    <script src="/error-manager.js"></script>
    <script src="/performance-optimizer.js"></script>
    <script src="/word-snap-campaign.js"></script>
    
    <script>
        // Inicializar sistemas al cargar
        window.addEventListener('load', () => {
            // Aplicar skin guardado
            if (window.skinsSystem) {
                skinsSystem.applySkin();
            }
            // Actualizar display de monedas
            if (window.coinsManager) {
                coinsManager.updateCoinsDisplay();
            }
            // Actualizar XP
            if (window.xpManager) {
                xpManager.updateUI();
            }
        });
    </script>
</body>
</html>

